// partial: partials/_slider.scss
$slider-count: 11 !default; // ajuste aqui se mudar a quantidade de imagens
$white: #ffffff !default;
$secondary-normal: rgba(255,255,255,0.95) !default;

.slider {
  width: 100%;
  max-width: 980px;
  height: 500px;
  margin: 40px auto;
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.18);
  background: transparent;

  // esconder os radios
  input[type="radio"] {
    display: none;
  }

  // container com todos os slides em linha
  .slides {
    display: flex;
    width: calc(100% * #{$slider-count}); // ex.: 11 * 100%
    height: 100%;
    transition: transform 0.8s ease-in-out;
    will-change: transform;
  }

  // cada slide ocupa FRAÇÃO do total (1 / slider-count)
  .slide {
    width: calc(100% / #{$slider-count});
    flex-shrink: 0;
    display: block;

    img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }

  // bolinhas manuais (labels)
  .manual-navigation {
    position: absolute;
    bottom: 14px;
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    gap: 8px;
    z-index: 10;

    .manual-btn {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.85);
      background: rgba(255,255,255,0.35);
      cursor: pointer;
      transition: transform 0.22s ease, background 0.22s ease;
    }
  }

  // indicadores automáticos (opcional)
  .navigation-auto {
    position: absolute;
    bottom: 46px;
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    gap: 8px;
    z-index: 8;

    div {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      border: 1px solid rgba(255,255,255,0.75);
      background: rgba(255,255,255,0.25);
      transition: background 0.2s ease, transform 0.2s ease;
    }
  }
}

/* Gera as transformações corretas: cada passo move 1 slide.
   translateX(calc(- (index-1) * (100% / slider-count) ))) */
@for $i from 1 through $slider-count {
  #radio#{$i}:checked ~ .slides {
    transform: translateX(calc(-#{$i - 1} * (100% / #{$slider-count})));
  }

  // destacar a bolinha manual correspondente
  #radio#{$i}:checked ~ .manual-navigation .manual-btn:nth-child(#{$i}) {
    background: $secondary-normal;
    transform: scale(1.15);
  }

  // destacar indicador automático correspondente
  #radio#{$i}:checked ~ .navigation-auto div:nth-child(#{$i}) {
    background: $secondary-normal;
    transform: scale(1.1);
  }
}

/* Responsividade */
@media (max-width: 768px) {
  .slider {
    height: 320px;
  }
}

@media (max-width: 480px) {
  .slider {
    height: 220px;

    .manual-navigation {
      gap: 6px;
      .manual-btn { width: 10px; height: 10px; }
    }

    .navigation-auto { bottom: 38px; }
  }
}
